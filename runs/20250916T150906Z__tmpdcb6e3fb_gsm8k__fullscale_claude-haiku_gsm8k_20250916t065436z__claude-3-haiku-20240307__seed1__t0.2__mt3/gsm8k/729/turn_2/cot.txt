Okay, let's break this down step-by-step:

1. At 8:00, 5000 people lined up to vote.

2. By midday (12:00), 2/5 of the 5000 people had voted.
   * 2/5 of 5000 = 2000 people had voted by 12:00.
   * That means 5000 - 2000 = 3000 people were still waiting to vote.

3. By 16:00 (4:00 PM), 2/3 of the remaining 3000 people had voted.
   * 2/3 of 3000 = 2000 people had voted between 12:00 and 16:00.
   * That means 3000 - 2000 = 1000 people were still waiting to vote.

Therefore, the number of people who had not voted by 16:00 is 1000.