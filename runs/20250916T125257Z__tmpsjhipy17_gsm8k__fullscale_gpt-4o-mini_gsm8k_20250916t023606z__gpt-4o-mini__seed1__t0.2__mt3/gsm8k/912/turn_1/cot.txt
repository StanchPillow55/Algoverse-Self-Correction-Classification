To solve the problem, we need to determine how many bottles of water John drinks while he is solving both a normal sudoku puzzle and an extreme sudoku puzzle.

1. **Determine the time taken for each type of sudoku puzzle:**
   - A normal sudoku puzzle takes 45 minutes.
   - An extreme sudoku puzzle takes 4 times as long as a normal sudoku. Therefore, we calculate the time for the extreme sudoku:
     \[
     \text{Time for extreme sudoku} = 4 \times 45 \text{ minutes} = 180 \text{ minutes}
     \]

2. **Calculate the total time spent solving both puzzles:**
   - Total time = Time for normal sudoku + Time for extreme sudoku
   \[
   \text{Total time} = 45 \text{ minutes} + 180 \text{ minutes} = 225 \text{ minutes}
   \]

3. **Determine how many bottles of water John drinks during this time:**
   - John drinks a bottle of water every half hour (30 minutes). To find out how many half-hour intervals are in 225 minutes, we divide 225 by 30:
   \[
   \text{Number of half-hour intervals} = \frac{225 \text{ minutes}}{30 \text{ minutes/bottle}} = 7.5
   \]
   Since John can only drink whole bottles, we round down to the nearest whole number. Therefore, he drinks 7 bottles of water.

4. **Final answer:**
   John drinks a total of **7 bottles of water** while solving both the normal and extreme sudoku puzzles.