To solve the problem, we need to determine how many bottles of water John drinks while he is solving both a normal sudoku puzzle and an extreme sudoku puzzle.

1. **Calculate the time taken for a normal sudoku puzzle:**
   - A normal sudoku puzzle takes John 45 minutes.

2. **Calculate the time taken for an extreme sudoku puzzle:**
   - An extreme sudoku takes 4 times as long as a normal sudoku.
   - Therefore, the time for an extreme sudoku is:
     \[
     4 \times 45 \text{ minutes} = 180 \text{ minutes}
     \]

3. **Calculate the total time spent solving both puzzles:**
   - Total time = Time for normal sudoku + Time for extreme sudoku
   - Total time = 45 minutes + 180 minutes
   - Total time = 225 minutes

4. **Determine how many bottles of water John drinks in that time:**
   - John drinks a bottle of water every half hour (30 minutes).
   - To find out how many half-hour intervals are in 225 minutes, we divide 225 by 30:
     \[
     \frac{225 \text{ minutes}}{30 \text{ minutes/bottle}} = 7.5
     \]
   - Since John cannot drink half a bottle of water, we consider that he drinks 7 full bottles during the time he is solving the puzzles.

5. **Final answer:**
   - Therefore, the total number of bottles of water John drinks while solving both puzzles is:
   \[
   \boxed{7}
   \]