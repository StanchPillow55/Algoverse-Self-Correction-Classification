To solve the problem, we will break it down step by step and calculate the number of toys James needs at each stage.

1. **Initial Situation**:
   - James has 4 toys for 4 dogs.
   - Therefore, he currently has enough toys for the dogs he has.

2. **New Dogs Arriving**:
   - There are 8 more dogs in the shelter.
   - Total number of dogs now = 4 (original dogs) + 8 (new dogs) = 12 dogs.

3. **Toys Needed for 12 Dogs**:
   - Since each dog needs one toy, James needs 12 toys for 12 dogs.

4. **Toys James Needs to Buy**:
   - James currently has 4 toys.
   - Toys needed = Total dogs - Toys on hand = 12 - 4 = 8 toys.
   - So, James needs to buy 8 more toys.

5. **After Buying Toys**:
   - James buys 8 toys, so now he has 4 (original) + 8 (newly bought) = 12 toys.
   - He leaves the shelter with 12 toys.

6. **Twice as Many More Dogs**:
   - When James left, he saw that there are twice as many more dogs than when he left.
   - Initially, there were 8 new dogs added to the original 4, making it 12 dogs.
   - "Twice as many more dogs" means he needs to consider the number of new dogs added, which is 8.
   - Twice that amount = 2 * 8 = 16 additional dogs.
   - Therefore, the total number of dogs now = 12 (original total) + 16 (new additional dogs) = 28 dogs.

7. **Toys Needed for 28 Dogs**:
   - Now, James needs 28 toys for 28 dogs.

8. **Toys James Has After Buying**:
   - James has 12 toys after his first purchase.

9. **Toys Needed to Buy Again**:
   - Toys needed = Total dogs - Toys on hand = 28 - 12 = 16 toys.
   - So, James needs to buy 16 more toys.

10. **Final Situation**:
    - When James comes back again, 3 dogs are gone.
    - Therefore, the new total number of dogs = 28 - 3 = 25 dogs.

11. **Toys Needed for 25 Dogs**:
    - Now, James needs 25 toys for 25 dogs.

12. **Toys James Has**:
    - James still has the 12 toys he bought earlier (after the first purchase).

13. **Final Calculation of Toys Needed**:
    - Toys needed = Total dogs - Toys on hand = 25 - 12 = 13 toys.
    - So, James needs to buy 13 more toys.

### Final Answer:
James needs a total of **25 toys** for the 25 dogs currently in the shelter.