To solve the problem, we will break it down step by step.

1. **Initial Situation**:
   - James has 4 toys for 4 dogs. 
   - This means each dog currently has one toy.

2. **Current Number of Dogs**:
   - James has 4 dogs and there are 8 more dogs added to the shelter.
   - Total dogs = 4 (current) + 8 (new) = 12 dogs.

3. **Toys Needed for All Dogs**:
   - Since each dog needs one toy, James needs a total of 12 toys for 12 dogs.

4. **Toys James Needs to Buy**:
   - James currently has 4 toys.
   - Toys needed = Total dogs - Current toys = 12 - 4 = 8 toys.
   - So, James needs to buy 8 more toys.

5. **Twice as Many More Dogs**:
   - After buying the toys, James goes back and sees that there are twice as many more dogs than when he left.
   - Initially, there were 8 more dogs (the new dogs), so twice that amount is 2 * 8 = 16 more dogs.
   - Total dogs now = 4 (original) + 16 (new) = 20 dogs.

6. **Toys Needed After New Count**:
   - Now, James needs toys for 20 dogs.
   - Since he already has 4 toys, the number of toys he needs to buy now is:
   - Toys needed = Total dogs - Current toys = 20 - 4 = 16 toys.
   - So, James needs to buy 16 more toys.

7. **Dogs Leaving the Shelter**:
   - When James comes back again, 3 dogs are gone.
   - Total dogs now = 20 - 3 = 17 dogs.

8. **Final Calculation of Toys Needed**:
   - Now, James needs toys for 17 dogs.
   - Since he still has 4 toys, the number of toys he needs now is:
   - Toys needed = Total dogs - Current toys = 17 - 4 = 13 toys.

9. **Total Toys Needed**:
   - To summarize:
     - Initially, James needed 12 toys for 12 dogs.
     - After seeing the increase, he needed 16 toys for 20 dogs.
     - Finally, after 3 dogs left, he needs 13 toys for 17 dogs.

Thus, the final answer is that James needs a total of **13 toys** for the remaining dogs in the shelter.